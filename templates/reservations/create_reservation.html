{% extends "core/base.html" %}
{% load static %}
{% block title %}Create Reservation{% endblock %}

{% block page_title %}Create New Reservation{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/create_guest.css' %}">

<div class="page-subtitle">
    <p>Book a room for a guest</p>
</div>

<div class="form-container">
    <form method="post" class="guest-form">
        {% csrf_token %}
        
        {% if form.non_field_errors %}
        <div class="form-errors">
            {% for error in form.non_field_errors %}
            <div class="error-message">{{ error }}</div>
            {% endfor %}
        </div>
        {% endif %}
        
        <div class="form-section">
            <div class="section-header">
                <div class="section-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                        <circle cx="12" cy="7" r="4"/>
                    </svg>
                </div>
                <h3 class="section-title">Guest & Room Details</h3>
            </div>
            
            <div class="form-group">
                <label for="{{ form.guest.id_for_label }}" class="form-label">
                    Guest <span class="required">*</span>
                </label>
                {{ form.guest }}
                {% if form.guest.errors %}
                    <div class="field-error">{{ form.guest.errors.0 }}</div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.room.id_for_label }}" class="form-label">
                    Room <span class="required">*</span>
                </label>
                {{ form.room }}
                {% if form.room.errors %}
                    <div class="field-error">{{ form.room.errors.0 }}</div>
                {% endif %}
            </div>
        </div>
        
        <div class="form-section">
            <div class="section-header">
                <div class="section-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="4" width="18" height="18" rx="2"/>
                        <line x1="16" y1="2" x2="16" y2="6"/>
                        <line x1="8" y1="2" x2="8" y2="6"/>
                        <line x1="3" y1="10" x2="21" y2="10"/>
                    </svg>
                </div>
                <h3 class="section-title">Dates & Occupancy</h3>
            </div>
            
            <div class="form-grid">
                <div class="form-group">
                    <label for="{{ form.check_in_date.id_for_label }}" class="form-label">
                        Check In Date <span class="required">*</span>
                    </label>
                    {{ form.check_in_date }}
                    {% if form.check_in_date.errors %}
                        <div class="field-error">{{ form.check_in_date.errors.0 }}</div>
                    {% endif %}
                </div>
                
                <div class="form-group">
                    <label for="{{ form.check_out_date.id_for_label }}" class="form-label">
                        Check Out Date <span class="required">*</span>
                    </label>
                    {{ form.check_out_date }}
                    {% if form.check_out_date.errors %}
                        <div class="field-error">{{ form.check_out_date.errors.0 }}</div>
                    {% endif %}
                </div>
            </div>
            
            <div class="form-grid">
                <div class="form-group">
                    <label for="{{ form.number_of_guests.id_for_label }}" class="form-label">
                        Number of Guests
                    </label>
                    {{ form.number_of_guests }}
                    {% if form.number_of_guests.errors %}
                        <div class="field-error">{{ form.number_of_guests.errors.0 }}</div>
                    {% endif %}
                </div>
                
                <div class="form-group">
                    <label for="{{ form.number_of_children.id_for_label }}" class="form-label">
                        Number of Children
                    </label>
                    {{ form.number_of_children }}
                    {% if form.number_of_children.errors %}
                        <div class="field-error">{{ form.number_of_children.errors.0 }}</div>
                    {% endif %}
                </div>
            </div>
            
            <div class="form-group">
                <label for="{{ form.special_requests.id_for_label }}" class="form-label">
                    Special Requests
                </label>
                {{ form.special_requests }}
                {% if form.special_requests.errors %}
                    <div class="field-error">{{ form.special_requests.errors.0 }}</div>
                {% endif %}
            </div>
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn-submit">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="20 6 9 17 4 12"/>
                </svg>
                Create Reservation
            </button>
            <a href="{% url 'reservation_list' %}" class="btn-cancel">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
