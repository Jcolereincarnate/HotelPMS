

     {% extends "core/base.html" %}
     {% load static %}
     {% load humanize %}
     {% block title %}Reservations{% endblock %}
     
     {% block page_title %}Reservations{% endblock %}
     
     {% block content %}
     <link rel="stylesheet" href="{% static 'css/reservation_list.css' %}">
 
     
     <!-- Page Actions -->
     <div class="page-actions-right">
         <a href="{% url 'create_reservation' %}" class="btn-add-reservation">
             <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                 <line x1="12" y1="5" x2="12" y2="19"/>
                 <line x1="5" y1="12" x2="19" y2="12"/>
             </svg>
             New Reservation
         </a>
     </div>
     
     <!-- Filter Card -->
     <div class="filter-card">
         <form method="get" class="filter-form">
             <div class="filter-grid">
                 <div class="filter-group">
                     <label for="search" class="filter-label">Search</label>
                     <input type="text" name="search" id="search" placeholder="Guest name or room..." value="{{ search }}" class="filter-input">
                 </div>
                 
                 <div class="filter-group">
                     <label for="status" class="filter-label">Status</label>
                     <select name="status" id="status" class="filter-select">
                         <option value="">All Status</option>
                         {% for value, label in status_choices %}
                         <option value="{{ value }}" {% if status_filter == value %}selected{% endif %}>{{ label }}</option>
                         {% endfor %}
                     </select>
                 </div>
             </div>
             
             <div class="filter-actions">
                 <button type="submit" class="btn-filter-submit">
                     <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                         <circle cx="11" cy="11" r="8"/>
                         <path d="m21 21-4.35-4.35"/>
                     </svg>
                     Filter
                 </button>
                 {% if status_filter or search %}
                 <a href="{% url 'reservation_list' %}" class="btn-filter-clear">Clear</a>
                 {% endif %}
             </div>
         </form>
     </div>
     
     <!-- Reservations Table Card -->
     <div class="table-card">
         <div class="table-responsive">
             <table class="reservations-table">
                 <thead>
                     <tr>
                         <th>Guest</th>
                         <th>Room</th>
                         <th>Check In</th>
                         <th>Check Out</th>
                         <th>Guests</th>
                         <th>Total</th>
                         <th>Status</th>
                         <th>Actions</th>
                     </tr>
                 </thead>
                 <tbody>
     {% for reservation in reservations %}
                     <tr>
                         <td class="guest-cell">
                             <div class="guest-info-wrapper">
                                 <div class="guest-avatar-mini">{{ reservation.guest.first_name.0 }}{{ reservation.guest.last_name.0 }}</div>
                                 <div class="guest-text">
                                     <span class="guest-name">{{ reservation.guest.first_name }} {{ reservation.guest.last_name }}</span>
                                     <span class="guest-email">{{ reservation.guest.email }}</span>
                                 </div>
                             </div>
                         </td>
                         <td class="room-cell">
                             <span class="room-badge">{{ reservation.room.room_number }}</span>
                         </td>
                         <td>{{ reservation.check_in_date|date:"M d, Y" }}</td>
                         <td>{{ reservation.check_out_date|date:"M d, Y" }}</td>
                         <td class="guests-count">
                             {{ reservation.number_of_guests }}
                             {% if reservation.number_of_children %} (+{{ reservation.number_of_children }}){% endif %}
                         </td>
                         <td class="amount-cell">â‚¦{{ reservation.total_price|floatformat:2|intcomma }}</td>
                         <td>
     {% if reservation.status == 'confirmed' %}
                             <span class="res-status res-status-confirmed">{{ reservation.get_status_display }}</span>
     {% elif reservation.status == 'checked_in' %}
                             <span class="res-status res-status-checkedin">{{ reservation.get_status_display }}</span>
     {% elif reservation.status == 'checked_out' %}
                             <span class="res-status res-status-checkout">{{ reservation.get_status_display }}</span>
     {% else %}
                             <span class="res-status res-status-cancelled">{{ reservation.get_status_display }}</span>
     {% endif %}
                         </td>
                         <td class="actions-cell">
                             <a href="{% url 'reservation_detail' reservation.pk %}" class="action-btn action-view" title="View">
                                 <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                     <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                                     <circle cx="12" cy="12" r="3"/>
                                 </svg>
                             </a>
     {% if reservation.status == 'confirmed' %}
                             <a href="{% url 'check_in' reservation.pk %}" class="action-btn action-checkin" title="Check-In">
                                 <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                     <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/>
                                     <polyline points="10 17 15 12 10 7"/>
                                     <line x1="15" y1="12" x2="3" y2="12"/>
                                 </svg>
                             </a>
     {% elif reservation.status == 'checked_in' %}
                             <a href="{% url 'check_out' reservation.pk %}" class="action-btn action-checkout" title="Check-Out">
                                 <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                     <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                                     <polyline points="16 17 21 12 16 7"/>
                                     <line x1="21" y1="12" x2="9" y2="12"/>
                                 </svg>
                             </a>
     {% endif %}
                         </td>
                     </tr>
     {% empty %}
                     <tr>
                         <td colspan="8">
                             <div class="empty-state">
                                 <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                     <rect x="3" y="4" width="18" height="18" rx="2"/>
                                     <line x1="16" y1="2" x2="16" y2="6"/>
                                     <line x1="8" y1="2" x2="8" y2="6"/>
                                     <line x1="3" y1="10" x2="21" y2="10"/>
                                 </svg>
                                 <p>No reservations found</p>
                             </div>
                         </td>
                     </tr>
     {% endfor %}
                 </tbody>
             </table>
         </div>
     </div>
     {% endblock %}
     